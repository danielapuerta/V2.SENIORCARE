<div class="container">
    <div class="row justify-content-center">
        <div class="col-6">
            <form id="loginForm" class="form-horizontal pt-5">
                <fieldset>

                    <div class="form-group">
                        <label class="col-md-4 control-label" for="nurseCodeInput">Nurse Code</label>
                        <div class="col-md-4">
                            <input id="nurseCodeInput" name="nurseCode" type="text" placeholder="12345" class="form-control input-md">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label" for="passwordInput">Password</label>
                        <div class="col-md-4">
                            <input id="passwordInput" name="password" type="text" placeholder="password1234" class="form-control input-md">
                        </div>
                    </div>

                    <div class="form-group pt-4">
                        <div class="col-md-4">
                            <button id="registerButton" name="registerButton" class="btn btn-secondary">Register</button>
                            <button id="loginButton" name="loginButton" class="btn btn-primary">Login</button>
                        </div>

                    </div>

                </fieldset>
            </form>

        </div>
    </div>
</div>

{{!-- jquery ajax --}}
<script>
    $('#loginButton').click(function(e)){
        e.preventDevault();
        //create an user object and store the nurseCode input in the vars nurseCode
        //we do the same for password
        var user = {
            nurseCode: $('input[name=nurseCode]').val(),
            password: $('input[name=password]').val()
        }
    $.ajax({
        //we make an ajax call and send the data to the server through the api
        type: "POST",
        url: "/api/auth/signin",
        data: user,
        success: function(data, status, settings){
            window.location.href = '/residents';
        }
    })    

    
    }
</script>